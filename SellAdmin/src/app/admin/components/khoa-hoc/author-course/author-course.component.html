<div class="content-section introduction">
        <div>
            <span class="feature-title">Khóa học của tôi</span>
            <span> Quản lý khóa học của tôi .</span>
        </div>
    </div>
    
    <div style="margin-top: 8px">
            <button pButton type="button" label="Xem hết" (click)="expandAll()"></button>
            <button pButton type="button" label="Thu nhỏ" (click)="collapseAll()"></button>
        </div>
        
    <div class="content-section implementation">
        <p-growl [value]="msgs"></p-growl>
        <h3>Tên khóa học</h3>
        <p-tree [value]="filesTree11" layout="horizontal" selectionMode="single" [(selection)]="selectedFile3" 
        (onNodeSelect)="nodeSelect($event)" 
        #expandingTree
        ></p-tree>
        <div style="margin-top:8px">Selected Node: {{selectedFile3 ? selectedFile3.label : 'none'&#125;&#125;</div>
    </div>
    
    <button pButton type="button" (click)="visibleEditFile = true" icon="fa-arrow-up"></button>
    <button pButton type="button" (click)="visibleSidebar5 = true" icon="fa-arrows-alt"></button>
    
<p-sidebar [(visible)]="visibleEditFile" position="top" [baseZIndex]="10000">
        <h1 style="font-weight:normal">{{selectFile?.noiDung}}</h1>
        <button pButton type="button" (click)="clickXoaFile()" label="Xóa tập tin này" class="ui-button-success"></button>
        <button pButton type="button" (click)="visibleEditFile = false" label="Cancel" class="ui-button-secondary"></button>
        <h3 class="first">Thêm mới</h3>
        <p-fileUpload name="file" url="{{url_upload}}/upload" (onUpload)="onUpload($event)" 
                multiple="multiple" accept="image/*" maxFileSize="1000000">
            <ng-template pTemplate="content">
                <ul *ngIf="uploadedFiles.length">
                    <li *ngFor="let file of uploadedFiles">{{file.name}} - {{file.size}} bytes</li>
                </ul>
            </ng-template>        
        </p-fileUpload>
    </p-sidebar>
    
    <!-- xem thông tin chi tiết khóa hoc -->
    <p-sidebar [(visible)]="visibleCource" [fullScreen]="true" [baseZIndex]="10000">
    
  <div *ngIf="khoahoc && userform" class="scrollbar" id="style-3" >
  
        <form [formGroup]="userform" (ngSubmit)="onSubmit(userform.value)">
                <p-panel header="Tạo khóa học">
                    <div  class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0px; margin-bottom: 70px;">
                       
                          
                    
                                <div class="ui-grid-row">
                                        <div class="ui-grid-col-2">
                                           Trang thái *:
                                        </div>
                                        <div class="ui-grid-col-6">
                                                <div class="ui-g" style="width:250px;margin-bottom:10px">
                                                        <div class="ui-g-12"><p-radioButton name="group1" value="1" label="Xuất bản" formControlName="status" inputId="opt2"></p-radioButton></div>
                                                        <div class="ui-g-12"><p-radioButton name="group1" value="0" label="Đang cập nhật" formControlName="status" inputId="opt3"></p-radioButton></div>
                                                    </div>
                                        </div>
                                        <div class="ui-grid-col-4">
                                          
                                        </div>
                                    </div>

                                <div class="ui-grid-row">
                            <div class="ui-grid-col-2">
                                Tên chủ đề *:
                            </div>
                            <div class="ui-grid-col-6">
                                <input pInputText type="text" formControlName="courseTitle" placeholder="Tên chủ đề" />
                            </div>
                            <div class="ui-grid-col-4">
                                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['courseTitle'].valid&&userform.controls['courseTitle'].dirty">
                                    <i class="fa fa-close"></i>
                                    Đây là trường bắt buộc
                                </div>
                            </div>
                        </div>
                        <div class="ui-grid-row">
                            <div class="ui-grid-col-2">
                                Mô tả:
                            </div>
                            <div class="ui-grid-col-6">
                                <p-editor formControlName="courseDescription"[style]="{'height':'70px'}">
                                        <p-header>
                                            <span class="ql-formats">
                                                <button class="ql-bold" aria-label="Bold"></button>
                                                <button class="ql-italic" aria-label="Italic"></button>
                                                <button class="ql-underline" aria-label="Underline"></button>
                                            </span>
                                        </p-header>
                                    </p-editor>
                            </div>
                            <div class="ui-grid-col-4"></div>
                        </div>
                        <div *ngIf="userform.value.courseTypeID === 'CO'" class="ui-grid-row">
                            <div class="ui-grid-col-2">
                                Giá:
                            </div>
                            <div class="ui-grid-col-6">
                                <input pInputText type="number" formControlName="price" placeholder="Giá khóa học" />
                            </div>
                            <div class="ui-grid-col-4">
                                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['price'].valid&&userform.controls['price'].dirty">
                                    <i class="fa fa-close"></i>
                                    Đây là trường bắt buộc
                                </div>
                            </div>
                        </div>
                        <div class="ui-grid-row">
                            <div class="ui-grid-col-2">
                                Mã loại khóa học *:
                            </div>
                            <div class="ui-grid-col-6">
                                <p-dropdown [options]="courseTypeID" formControlName="courseTypeID" [autoWidth]="false"></p-dropdown>
                            </div>
                            <div class="ui-grid-col-4">
                                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['courseTypeID'].valid&&userform.controls['courseTypeID'].dirty">
                                    <i class="fa fa-close"></i>
                                    Đây là trường bắt buộc
                                </div>
                            </div>
                        </div>
                        <div class="ui-grid-row">
                            <div class="ui-grid-col-2">
                                Mã chủ đề *:
                            </div>
                            <div class="ui-grid-col-6">
                                <p-dropdown [options]="topicID" formControlName="topicID" [autoWidth]="false"
                                filter="true"
                                >
                                </p-dropdown>
                            </div>
                            <div class="ui-grid-col-4">
                                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['topicID'].valid&&userform.controls['topicID'].dirty">
                                    <i class="fa fa-close"></i>
                                    Đây là trường bắt buộc
                                </div>
                            </div>
                        </div>
                        <div class="ui-grid-row">
                            <div class="ui-grid-col-2">
                                Ảnh đại diện:
                            </div>
                            <div class="ui-grid-col-3">
                                
                                  <img *ngIf="!uploadImgProress" style="width: 100%; height: auto;" [src]="courseAvatar_temp" />
                                
                                  <div  style="width: 100%;" *ngIf="uploadImgProress" >
                                        <p-progressSpinner></p-progressSpinner>
                                        
                                </div>
                                  <!-- <input   formControlName="courseAvatar" /> -->
                                  <div style="width: 100%;"  >
                                        <p-fileUpload (onError)="erroUpload($event)" (onProgress)="progressUp($event)" #fubauto mode="basic" name="file" url="{{url_upload}}/upload"  accept="image/*" maxFileSize="1000000" (onUpload)="onBasicUploadAuto($event)" auto="true" chooseLabel="Browse">
                                            <ng-template pTemplate="content">
                                                </ng-template>  
                                        </p-fileUpload>
                                  </div>
                                  
                            </div>
                          
                            <div class="ui-grid-col-4">
                                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['courseAvatar'].valid&&userform.controls['courseAvatar'].dirty">
                                    <i class="fa fa-close"></i>
                                    Đây là trường bắt buộc
                                </div>
                            </div>
                        </div>
                        <div class="ui-grid-row">
                            <div class="ui-grid-col-2">
                             
                            </div>
                            <div class="ui-grid-col-6">
                                <p-editor formControlName="courseDetail" [style]="{'height':'150px'}"></p-editor>
                            </div>
                            <div class="ui-grid-col-4"></div>
                        </div>
                        <div class="ui-grid-row">
                            <div class="ui-grid-col-2"></div>
                            <div class="ui-grid-col-6">
                                <button pButton type="submit" label="Lưu lại" [disabled]="!userform.valid"></button>
                            </div>
                            <div class="ui-grid-col-4"></div>
                        </div>
                    </div>
                </p-panel>
            </form>

        </div>
      </p-sidebar>
    <!-- // hết xem thông tin khóa học -->